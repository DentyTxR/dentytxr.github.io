@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject HttpClient Http
@using System.Text.Json;

@page "/portfolio"

<PageTitle>About Me</PageTitle>

<head>
    <!-- Primary Meta Tags -->
    <title>Denty - About Me</title>
    <meta name="title" content="Denty - About Me" />
    <meta name="description" content="My Portfolio" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://dentytxr.github.io/" />
    <meta property="og:title" content="Denty - About Me" />
    <meta property="og:description" content="My Portfolio" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://dentytxr.github.io/" />
    <meta property="twitter:title" content="Denty - About Me" />
    <meta property="twitter:description" content="My Portfolio" />

    <link href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" rel="stylesheet">
</head>


<MudContainer MaxWidth="MaxWidth.Large" Class="mt-8">
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="12" md="12" lg="12">
            @* yeah ik this is lazy as fuck, ill redo this... maybe*@
            <MudCard Style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                <MudCardHeader>
                    <CardHeaderAvatar>
                        <MudAvatar>
                            <MudImage Src="@avatarUrl"></MudImage>
                        </MudAvatar>
                    </CardHeaderAvatar>
                    <CardHeaderContent>
                        <MudText Typo="Typo.h4">Hello, I'm Denty</MudText>
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>
                    <MudText Typo="Typo.body1">
                        Hello! I'm an 19 year old (03/01/2006) living in the United States.
                    </MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>

    <MudPaper Class="pa-4 mt-6">
        <MudText Align="Align.Center" Typo="Typo.h4">Experience</MudText>
        <MudGrid Spacing="6" Justify="Justify.Center" Style="margin-top:auto;">
            <MudItem xs="8" sm="8" md="8" lg="8">
                <MudCard Elevation="0" Style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Style="@($"color:{Colors.Indigo.Lighten2};")"><b>Technical Support Specialist @@ Northwood Studios</b></MudText>
                        <MudText Typo="Typo.body1">Duration: August 2024 - Present</MudText>
                    </MudCardContent>
                </MudCard>
                <MudDivider />
                <MudCard Elevation="0" Style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Style="@($"color:{Colors.Indigo.Lighten2};")"><b>Quality Assurance @@ Northwood Studios</b></MudText>
                        <MudText Typo="Typo.body1">Duration: January 2025 - Present</MudText>
                    </MudCardContent>
                </MudCard>
                <MudDivider />
                <MudCard Elevation="0" Style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Style="@($"color:{Colors.Indigo.Lighten2};")"><b>Server Manager & Developer for D-Boys R Us Community</b></MudText>
                        <MudText Typo="Typo.body1">Duration: July 2021 - Present</MudText>
                    </MudCardContent>
                </MudCard>
                <MudDivider />
                <MudCard Elevation="0" Style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Style="@($"color:{Colors.Indigo.Lighten2};")"><b>SCP:SL Technical Assistant</b></MudText>
                        <MudText Typo="Typo.body1">Duration: June 2020 - July 2022</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudPaper>

    <MudPaper Class="pa-4 mt-6">
        <MudText Align="Align.Center" Typo="Typo.h4">Projects</MudText>
        <MudGrid Spacing="6" Justify="Justify.Center" Style="margin-top:auto;">
            <MudItem xs="10" sm="7" md="6" lg="4">
                <MudCard Class="mud-theme-dark d-flex flex-column justify-between" Style="min-height: 200px;" Outlined>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h5" Style="@($"color:{Colors.Indigo.Lighten2};")">ShowReportsInGame</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent Class="d-flex flex-column align-items-center flex-grow-1">
                        <MudText Typo="Typo.body1" Class="mb-3">A simple but modular moderation plugin for SCP: Secret Laboratory.</MudText>
                        <!-- Spacer that pushes button to the bottom -->
                        <div style="flex-grow:1;"></div>
                        <MudButton Variant="Variant.Filled" Target="_blank" Href="https://github.com/DentyTxR/ShowReportsInGame" Style="@($"color:{Colors.Indigo.Lighten2};")">View</MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="10" sm="7" md="6" lg="4">
                <MudCard Class="mud-theme-dark d-flex flex-column justify-between" Style="min-height: 200px;" Outlined>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h5" Style="@($"color:{Colors.Indigo.Lighten2};")">SCP:SL FAQ Project</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent Class="d-flex flex-column align-items-center flex-grow-1">
                        <MudText Typo="Typo.body1" Class="mb-3">The first and unoffical SCP:SL FAQ website, now archived.</MudText>
                        <!-- Spacer that pushes button to the bottom -->
                        <div style="flex-grow:1;"></div>
                        <MudButton Variant="Variant.Filled" Target="_blank" Href="https://github.com/DentyTxR/SCPSL-FAQ-Project" Style="@($"color:{Colors.Indigo.Lighten2};")">View</MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="10" sm="7" md="6" lg="4">
                <MudCard Class="mud-theme-dark d-flex flex-column justify-between" Style="min-height: 200px;" Outlined>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h5" Style="@($"color:{Colors.Indigo.Lighten2};")">GitHub Repositories</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent Class="d-flex flex-column align-items-center flex-grow-1">
                        <MudText Typo="Typo.body1" Class="mb-3">View my other repositories on my Github.</MudText>
                        <!-- Spacer that pushes button to the bottom -->
                        <div style="flex-grow:1;"></div>
                        <MudButton Variant="Variant.Filled" Target="_blank" Href="https://github.com/DentyTxR" Style="@($"color:{Colors.Indigo.Lighten2};")">View</MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudPaper>

    <MudPaper Class="pa-4 mt-6">
        <MudText Align="Align.Center" Typo="Typo.h4">Socials</MudText>
        <MudGrid Spacing="7" Justify="Justify.Center" Style="margin-top:auto;">
            <MudItem>
                <div class="d-flex align-items-center">
                    <MudIcon Icon="@Icons.Custom.Brands.Discord" Class="me-2 align-self-center" Size="Size.Medium" />
                    <MudText Typo="Typo.h5" Class="m-0" Color="Color.Primary">
                        Discord: dentytxr
                    </MudText>
                </div>
            </MudItem>
            <MudItem>
                <div class="d-flex align-items-center">
                    <MudIcon Icon="@Icons.Custom.Brands.GitHub" Class="me-2 align-self-center" Size="Size.Medium" />
                    <MudText Typo="Typo.h5" Class="m-0" Color="Color.Primary">
                        GitHub: DentyTxR
                    </MudText>
                </div>
            </MudItem>
            <MudItem>
                <div class="d-flex align-items-center">
                    <MudIcon Icon="@Icons.Custom.Brands.YouTube" Class="me-2 align-self-center" Size="Size.Medium" />
                    <MudText Typo="Typo.h5" Class="m-0" Color="Color.Primary">
                        YouTube: DentyTxR
                    </MudText>
                </div>
            </MudItem>
            <MudItem>
                <div class="d-flex align-items-center">
                    <MudText Typo="Typo.h5" Class="m-0" Color="Color.Primary">
                        Twitch: DentyTxR
                    </MudText>
                </div>
            </MudItem>
            <MudItem>
                <div class="d-flex align-items-center">
                    <MudIcon Icon="@Icons.Material.Filled.Email" Class="me-2 align-self-center" Size="Size.Medium" />
                    <MudText Typo="Typo.h5" Class="m-0" Color="Color.Primary">
                        dentytxr@gmail.com
                    </MudText>
                </div>
            </MudItem>
        </MudGrid>
    </MudPaper>
</MudContainer>

@code {
    private string avatarUrl;

    protected override async Task OnInitializedAsync()
    {
        var json = await Http.GetFromJsonAsync<JsonElement>("https://lanyard.rest/v1/users/1141379914474455080");

        var user = json.GetProperty("data").GetProperty("discord_user");
        var id = user.GetProperty("id").GetString();
        var avatar = user.GetProperty("avatar").GetString();
        var ext = avatar.StartsWith("a_") ? "gif" : "png";

        avatarUrl = $"https://cdn.discordapp.com/avatars/{id}/{avatar}.{ext}";
    }
}